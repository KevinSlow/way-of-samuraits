{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/MyPosts.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Posts/Post/Post.tsx","components/Profile/Posts/MyPost.tsx","components/Profile/Posts/MyPosts.tsx","components/Profile/Posts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","reduxForm","form","profile","handleSubmit","error","onSubmit","className","s","descriptionBlock","lg","formSummaryError","CreateField","Input","type","TextArea","Object","keys","contacts","map","key","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contacts","ProfileInfo","savePhoto","saveProfile","mainPhoto","src","photos","large","userPhoto","alt","target","files","length","initialValues","formData","then","Post","item","message","likesCount","id","maxLength10","maxLengthCreator","ReduxAddPost","required","MyPost","postsBlock","MyPosts","React","memo","postsElements","post","p","values","addPosts","newPostText","MyPostsContainer","connect","state","profilePage","posts","actions","addPostAction","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","console","refreshProfile","prevProps","prevState","setUserProfile","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.0bdf30d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__sodEd\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3dvhv\",\"contact\":\"ProfileInfo_contact__3h1io\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__366-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__3NYyy\",\"postsBlock\":\"MyPosts_postsBlock__2xEpi\",\"posts\":\"MyPosts_posts__SPSS6\"};","import React, { ChangeEvent, useEffect, useState } from \"react\";\n\ntype ProfileStatusWithHooksType = {\n  status: string;\n  updateStatus: (status: string) => void;\n};\n\nconst ProfileStatusWithHooks = (props: ProfileStatusWithHooksType) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n\n  const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setStatus(e.currentTarget.value);\n  };\n\n  return (\n    <div>\n      {!editMode && (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || \"No Status\"}\n          </span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport s from \"./ProfileInfo.module.css\";\nimport lg from \"../../Common/FormsControls/FormsControls.module.css\";\nimport {\n  CreateField,\n  GetStringKeys,\n  Input,\n  TextArea,\n} from \"../../Common/FormsControls/FormsControls\";\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\nimport { ProfileType } from \"../../../types/types\";\n\ntype PropsTypes = {\n  profile: ProfileType;\n};\ntype ProfileTypeKeys = GetStringKeys<ProfileType>;\n\nconst ProfileDataForm: React.FC<\n  InjectedFormProps<ProfileType, PropsTypes> & PropsTypes\n> = ({ profile, handleSubmit, error }) => {\n  return (\n    <form onSubmit={handleSubmit} className={s.descriptionBlock}>\n      <div>\n        <button>save</button>\n      </div>\n      {error && <div className={lg.formSummaryError}>{error}</div>}\n      <div>\n        {\" \"}\n        Full Name{\" \"}\n        <div>\n          {CreateField<ProfileTypeKeys>(\"Full name\", \"fullName\", [], Input)}\n        </div>\n      </div>\n      {/*<div>{profile.aboutMe}</div>*/}\n\n      <div>\n        Looking for a Job{\" \"}\n        {CreateField<ProfileTypeKeys>(\"\", \"lookingForAJob\", [], Input, {\n          type: \"checkbox\",\n        })}\n      </div>\n\n      <div>\n        <b>My proffesional skills:</b>\n        {CreateField<ProfileTypeKeys>(\n          \"My proffesional skills\",\n          \"lookingForAJobDescription\",\n          [],\n          TextArea\n        )}\n      </div>\n\n      <div>About Me: </div>\n      {CreateField<ProfileTypeKeys>(\"About Me\", \"aboutMe\", [], TextArea)}\n      <div>\n        <div>\n          <b>Contacts:</b> :{\" \"}\n          {Object.keys(profile.contacts).map((key) => {\n            return (\n              <div key={key} className={s.contact}>\n                <strong>\n                  {key}: {CreateField(key, \"contacts.\" + key, [], Input)}\n                </strong>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </form>\n  );\n};\n\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, PropsTypes>({\n  form: \"edit-profile\",\n})(ProfileDataForm);\nexport default ProfileDataFormReduxForm;\n","import React, { ChangeEvent, useState } from \"react\";\nimport s from \"./ProfileInfo.module.css\";\nimport PreLoader from \"../../Common/Preloader/Preloader\";\nimport ProfileStatus from \"./ProfileStatus\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from \"../../../assets/img/image.jpg\";\nimport ProfileDataForm from \"./ProfileDataForm\";\nimport { ContactsType, ProfileType } from \"../../../types/types\";\n\ntype PropsType = {\n  profile: ProfileType | null;\n  status: string;\n  updateStatus: (status: string) => void;\n  isOwner: boolean;\n  savePhoto: (file: File) => void;\n  saveProfile: (profile: ProfileType) => Promise<any>;\n};\n\nconst ProfileInfo: React.FC<PropsType> = ({\n  profile,\n  savePhoto,\n  isOwner,\n  status,\n  updateStatus,\n  saveProfile,\n}) => {\n  const [editMode, setEditMode] = useState(false);\n\n  if (!profile) {\n    return <PreLoader />;\n  }\n\n  const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length) {\n      savePhoto(e.target.files[0]);\n    }\n  };\n\n  const onSubmit = (formData: ProfileType) => {\n    saveProfile(formData).then(() => {\n      setEditMode(false);\n    });\n  };\n\n  return (\n    <div>\n      {/*<div>*/}\n      {/*    <img src=\"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png\" alt=\"\"/>*/}\n      {/*</div>*/}\n      <img\n        className={s.mainPhoto}\n        src={profile.photos.large || userPhoto}\n        alt=\"\"\n      />\n      {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n      <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      {editMode ? (\n        <ProfileDataForm\n          profile={profile}\n          initialValues={profile}\n          onSubmit={onSubmit}\n        />\n      ) : (\n        <ProfileData\n          profile={profile}\n          isOwner={isOwner}\n          goToEditMode={() => setEditMode(true)}\n        />\n      )}\n    </div>\n  );\n};\n\ntype ProfileDataPropsType = {\n  profile: ProfileType;\n  isOwner: boolean;\n  goToEditMode: () => void;\n};\n\nconst ProfileData: React.FC<ProfileDataPropsType> = ({\n  profile,\n  isOwner,\n  goToEditMode,\n  ...props\n}) => {\n  return (\n    <div className={s.descriptionBlock}>\n      {isOwner && (\n        <div>\n          <button onClick={goToEditMode}>edit</button>\n        </div>\n      )}\n      <div>\n        Full Name\n        <div>{profile.fullName}</div>\n      </div>\n      <div>\n        About Me\n        <div>{profile.aboutMe}</div>\n      </div>\n      <div>\n        {profile.lookingForAJob && (\n          <div>\n            lookingForAJobDescription{\" \"}\n            <div>{profile.lookingForAJobDescription}</div>\n          </div>\n        )}\n      </div>\n      <div>\n        Looking for a Job: <div>{profile.lookingForAJob ? \"Yes\" : \"No\"}</div>\n      </div>\n      <div>\n        <div>\n          <b>Contacts:</b> :{\" \"}\n          {Object.keys(profile.contacts).map((key) => {\n            return (\n              <Contacts\n                contactTitle={key}\n                contactValue={profile.contacts[key as keyof ContactsType]}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\ntype ContactsPropsType = {\n  contactTitle: string;\n  contactValue: string;\n};\n\nconst Contacts: React.FC<ContactsPropsType> = ({\n  contactTitle,\n  contactValue,\n}) => {\n  return (\n    <div className={s.contact}>\n      <b>{contactTitle}</b> : {contactValue}\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport s from \"./Post.module.css\";\nimport { PostType } from \"../../../../types/types\";\n\nconst Post = (props: PostType) => {\n  return (\n    <div className={s.item} key={props.id}>\n      <img\n        src=\"https://scontent.fiev13-1.fna.fbcdn.net/v/t1.0-1/s320x320/79515135_10111007623880301_5111576226921709568_o.jpg?_nc_cat=1&ccb=2&_nc_sid=7206a8&_nc_ohc=0lzloRNQk5cAX_v-G_b&_nc_ht=scontent.fiev13-1.fna&tp=7&oh=04022734a046621ca05c6f9c6bb207f4&oe=5FF8DFAD\"\n        alt=\"\"\n      />\n      {props.message}\n      <div>\n        <span>Like</span> {props.likesCount}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import s from \"./MyPosts.module.css\";\nimport React from \"react\";\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\nimport {\n  maxLengthCreator,\n  required,\n} from \"../../../utils/Validators/validators\";\nimport {\n  CreateField,\n  GetStringKeys,\n  TextArea,\n} from \"../../Common/FormsControls/FormsControls\";\n\nconst maxLength10 = maxLengthCreator(10);\ntype PropsType = {\n  onSubmit: (values: AddPostFormValuesType) => void;\n};\nexport type AddPostFormValuesType = {\n  newPostText: string;\n};\ntype mapDispatchToProps = {};\ntype AddPostFormTypeKeys = GetStringKeys<AddPostFormValuesType>;\nconst AddPost: React.FC<\n  InjectedFormProps<AddPostFormValuesType, PropsType> & PropsType\n> = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      {CreateField<AddPostFormTypeKeys>(\n        \"Post Message\",\n        \"newPostText\",\n        [required, maxLength10],\n        TextArea\n      )}\n      <button>Add Post</button>\n    </form>\n  );\n};\n\nconst ReduxAddPost = reduxForm<AddPostFormValuesType, PropsType>({\n  form: \"add-post\",\n})(AddPost);\n\nexport const MyPost: React.FC<AddPostFormValuesType & PropsType> = (props) => {\n  return (\n    <>\n      <div className={s.postsBlock}>\n        <h3>New Post</h3>\n        <ReduxAddPost onSubmit={props.onSubmit} />\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\nimport Post from \"./Post/Post\";\nimport { AddPostFormValuesType, MyPost } from \"./MyPost\";\nimport { PostType } from \"../../../types/types\";\n\nexport type MapPropsType = {\n  post: Array<PostType>;\n};\nexport type DispatchPropsType = {\n  addPosts: (newPostText: string) => void;\n};\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = React.memo(\n  (props) => {\n    let postsElements = props.post.map((p) => {\n      return <Post message={p.message} likesCount={p.likesCount} id={p.id} />;\n    });\n    const onSubmit = (values: AddPostFormValuesType) => {\n      props.addPosts(values.newPostText);\n    };\n    return (\n      <div>\n        <MyPost onSubmit={onSubmit} newPostText={\"\"} />\n        <div>{postsElements}</div>\n      </div>\n    );\n  }\n);\n\nexport default MyPosts;\n","import React from \"react\";\nimport { RootStoreType } from \"../../../redux/_store\";\nimport { connect } from \"react-redux\";\nimport Profile from \"../Profile\";\nimport MyPosts from \"./MyPosts\";\nimport { PostType } from \"../../../types/types\";\nimport { actions } from \"../../../redux/profileReducer\";\nimport { StateType } from \"../../../redux/reduxStore\";\n\ntype myPostsContainerPropsType = {\n  store: RootStoreType;\n};\n\ntype MapStateToProps = {\n  post: Array<PostType>;\n  newPostText: string;\n};\n\ntype MapDispatchToProps = {\n  addPosts: (newPostText: string) => void;\n};\n\nconst mapStateToProps = (state: StateType): MapStateToProps => {\n  return {\n    post: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n  } as MapStateToProps;\n};\n\nconst MyPostsContainer = connect<\n  MapStateToProps,\n  MapDispatchToProps,\n  {},\n  StateType\n>(mapStateToProps, { addPosts: actions.addPostAction })(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nimport MyPostsContainer from \"./Posts/MyPostsContainer\";\n\nimport { ProfileType } from \"../../types/types\";\n\ntype Profile = {\n  isOwner: boolean;\n  status: string;\n  updateStatus: () => void;\n  savePhoto: () => void;\n};\n\ntype ProfileTypeProps = {\n  setUserProfile: (userId: number) => void;\n  getStatus: (userId: number) => void;\n  savePhoto: (file: File) => void;\n  updateStatus: (status: string) => void;\n  status: string;\n  saveProfile: (Profile: ProfileType) => Promise<any>;\n  isOwner: boolean;\n  profile: ProfileType | null;\n};\n\nconst Profile = (props: ProfileTypeProps) => {\n  return (\n    <div>\n      <ProfileInfo\n        saveProfile={props.saveProfile}\n        savePhoto={props.savePhoto}\n        isOwner={props.isOwner}\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\n\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport { compose } from \"redux\";\n\nimport { ProfileType } from \"../../types/types\";\nimport {\n  getStatus,\n  getUserProfile,\n  savePhoto,\n  saveProfile,\n  updateStatus,\n} from \"../../redux/profileReducer\";\nimport { AppState } from \"../../redux/reduxStore\";\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>;\ntype DispatchPropsType = {\n  getUserProfile: (userId: number) => void;\n  getStatus: (userId: number) => void;\n  updateStatus: (status: string) => void;\n  savePhoto: (file: File) => void;\n  saveProfile: (profile: ProfileType) => Promise<any>;\n};\n\ntype PathParamsType = {\n  userId: string;\n};\n\ntype PropsType = MapPropsType &\n  DispatchPropsType &\n  RouteComponentProps<PathParamsType>;\n\nclass ProfileContainer extends React.Component<PropsType> {\n  constructor(props: PropsType) {\n    super(props);\n  }\n\n  refreshProfile() {\n    let userId: number | null = +this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        // todo: may be replace push with Redirect??\n        this.props.history.push(\"/login\");\n      }\n    }\n\n    if (!userId) {\n      console.error(\n        \"ID should exists in URI params or in state ('authorizedUserId')\"\n      );\n    } else {\n      this.props.getUserProfile(userId);\n      this.props.getStatus(userId);\n    }\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\n      this.refreshProfile();\n    }\n  }\n\n  componentWillUnmount(): void {}\n\n  render() {\n    return (\n      <Profile\n        {...this.props}\n        isOwner={!this.props.match.params.userId}\n        profile={this.props.profile}\n        getStatus={this.props.getStatus}\n        saveProfile={this.props.saveProfile}\n        setUserProfile={this.props.getUserProfile}\n        status={this.props.status}\n        updateStatus={this.props.updateStatus}\n        savePhoto={this.props.savePhoto}\n      />\n    );\n  }\n}\n\nlet mapStateToProps = (state: AppState) => {\n  //console.log('mapStateToProps PROFILE')\n  return {\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default compose<React.ComponentType>(\n  connect(mapStateToProps, {\n    getUserProfile,\n    getStatus,\n    updateStatus,\n    savePhoto,\n    saveProfile,\n  }),\n  withRouter\n)(ProfileContainer);\n"],"sourceRoot":""}