(this["webpackJsonpway-of-samuraits"]=this["webpackJsonpway-of-samuraits"]||[]).push([[6],{2073:function(e,t,c){"use strict";c.r(t);var n=c(174);var r=c(4),s=c(0),i=c.n(s),u=c(22),a=c(253),j=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.chat.status}));return Object(s.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[]),Object(r.jsxs)("div",{children:["error"===t&&Object(r.jsx)("div",{children:"Some error occured. Please refresh the page"}),Object(r.jsx)(o,{}),Object(r.jsx)(d,{})]})};window.gMessages=[];var o=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(u.d)((function(e){return e.chat.messages})),c=Object(s.useRef)(null),i=Object(s.useState)(!1),a=Object(n.a)(i,2),j=a[0],o=a[1];return Object(s.useEffect)((function(){var e;j&&(null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),gMessages.push(t),Object(r.jsxs)("div",{style:{height:"200px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!j&&o(!0):j&&o(!1)},children:[t.map((function(e,t){return Object(r.jsx)(b,{message:e},e.id)})),Object(r.jsx)("div",{ref:c})]})},b=i.a.memo((function(e){var t=e.message;return console.log(">>>>> MESSAGE"),Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:t.photo,style:{width:"30px"},alt:""})," ",Object(r.jsx)("b",{children:t.userName}),Object(r.jsx)("br",{}),t.message,Object(r.jsx)("hr",{})]})})),d=function(){var e=Object(u.c)(),t=Object(s.useState)(""),c=Object(n.a)(t,2),i=c[0],j=c[1],o=Object(s.useState)("pending"),b=Object(n.a)(o,2),d=(b[0],b[1],Object(u.d)((function(e){return e.chat.status})));return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("textarea",{onChange:function(e){return j(e.currentTarget.value)},value:i})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{disabled:"ready"!==d,onClick:function(){i&&(e(Object(a.b)(i)),j(""))},children:"send"})})]})};t.default=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(j,{})})}}}]);
//# sourceMappingURL=6.17a38f0c.chunk.js.map