{"version":3,"sources":["api/api.ts","hoc/objectsHelpers.ts","redux/usersReducer.ts","components/Navbar/Nav.module.css","components/Common/FormsControls/FormsControls.tsx","reportWebVitals.ts","redux/sidebarReducer.ts","redux/store.ts","components/Navbar/Nav.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","redux/reduxStore.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","components/Common/FormsControls/FormsControls.module.css","redux/profileReducer.ts","redux/dialogsReducer.ts","utils/Validators/validators.ts","components/Header/Header.module.css","assets/img/Interwind-1s-200px.svg","components/Common/Preloader/Preloader.tsx"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUsersProfile","userId","profileAPI","unfollowUsers","delete","followUsers","post","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","initialStates","users","name","id","uniqueUrlName","photos","small","large","followed","totalUserCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","setIsFetching","setFollowingProgress","requestUsers","page","dispatch","setTotalUserCount","totalCount","count","_followUnfollowFlow","apiMethod","actionCreator","a","resultCode","follow","bind","unfollow","usersReducer","state","action","filter","module","exports","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","TextArea","props","restProps","Input","CreateField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","sidebarReducer","store","_state","profilePage","posts","message","likesCount","newPostText","dialogsPage","messages","dialogs","newDialogText","sideBar","friends","imgUrl","usersPage","getState","this","_callSubscriber","console","log","subscribe","observer","profileReducer","dialogsReducer","Nav","friendsMessages","f","friendsBlock","friendsImg","src","alt","to","nav","item","activeClassName","active","friendsBlocks","News","Music","Settings","Header","header","loginBlock","isAuth","onClick","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserDataSuccess","payload","getCaptchaURLSuccess","getCaptchaURL","url","authReducer","HeaderContainer","React","Component","connect","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","SET_INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","formReducer","app","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","window","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","exact","render","path","LoginPage","AppContainer","compose","withRouter","promise","Promise","all","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","addPostActionCreator","setStatus","setUserProfile","file","reject","newPost","p","postId","ADD_DIALOG","DELETE_DIALOG","addDialogActionCreator","newMessageBody","dialogId","value","maxLengthCreator","maxLength","PreLoader","style","background","preLoader"],"mappings":"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","file":"static/js/main.287778f9.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0\",\r\n    headers: {\r\n        \"API-KEY\": \"6b942291-e486-4917-9612-6d20f8535ae9\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getUsersProfile(userId: any) {\r\n        return profileAPI.getUsersProfile(userId);\r\n    },\r\n    unfollowUsers(userId: number) {\r\n        return instance.delete(`/follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    followUsers(userId: number) {\r\n        return instance.post(`/follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUsersProfile(userId: any) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: any) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: any) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data)\r\n    },\r\n    saveProfile(profile: any){\r\n        return instance.put(`profile`, profile).then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe,captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n}\r\n","export const updateObjectInArray = (\n  items: any,\n  itemId: any,\n  objPropName: any,\n  newObjProps: any\n) => {\n  return items.map((u: any) => {\n    if (u[objPropName] === itemId) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../hoc/objectsHelpers\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_FOLLOWING_PROGRESS = \"TOGGLE_FOLLOWING_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUserCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nlet initialStates = {\n  users: [\n    {\n      name: \"ILICH\",\n      id: 13543,\n      uniqueUrlName: null,\n      photos: {\n        small: null,\n        large: null,\n      },\n      status: null,\n      followed: false,\n    },\n    {\n      name: \"anniemt6\",\n      id: 13542,\n      uniqueUrlName: null,\n      photos: {\n        small: null,\n        large: null,\n      },\n      status: null,\n      followed: true,\n    },\n    {\n      name: \"DimaAleks\",\n      id: 13541,\n      uniqueUrlName: null,\n      photos: {\n        small: null,\n        large: null,\n      },\n      status: null,\n      followed: true,\n    },\n    {\n      name: \"KirJS\",\n      id: 13540,\n      uniqueUrlName: null,\n      photos: {\n        small: null,\n        large: null,\n      },\n      status: null,\n      followed: true,\n    },\n    {\n      name: \"Kir\",\n      id: 13539,\n      uniqueUrlName: null,\n      photos: {\n        small: null,\n        large: null,\n      },\n      status: null,\n      followed: false,\n    },\n  ],\n  pageSize: 5,\n  totalUserCount: 8551,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\ntype profileReducerType = {\n  newPostText: string;\n  posts: Array<PostType>;\n};\n\ntype PostType = {\n  id: number;\n  message: string;\n  likesCount: number;\n};\n\ninterface ActionA {\n  type: \"FOLLOW\";\n  newText: string;\n}\n\ninterface ActionB {\n  type: \"UNFOLLOW\";\n  newText: string;\n}\n\ninterface ActionC {\n  type: \"SET_USERS\";\n  newText: string;\n}\n\ninterface ActionD {\n  type: \"TOGGLE_IS_FETCHING\";\n  newText: string;\n}\n\nexport type Action = ActionA | ActionB | ActionC | ActionD;\n\nconst usersReducer = (state = initialStates, action: any) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: false,\n        }),\n      };\n\n    case SET_USERS:\n      return { ...state, users: action.users };\n\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage };\n\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUserCount: action.count };\n\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n\n    case TOGGLE_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter((id) => id != action.userId),\n      };\n  }\n  return state;\n};\n\nexport const followSuccess = (userId: number) => ({\n  type: FOLLOW,\n  userId,\n});\n\nexport const unfollowSuccess = (userId: number) => ({\n  type: UNFOLLOW,\n  userId,\n});\n\nexport const setUsers = (users: any) => ({\n  type: SET_USERS,\n  users,\n});\n\nexport const setCurrentPage = (currentPage: any) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage: currentPage,\n});\n\nexport const setTotalUserCount = (setTotalUserCount: any) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  count: setTotalUserCount,\n});\n\nexport const setIsFetching = (isFetching: boolean) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\n\nexport const setFollowingProgress = (isFetching: boolean, userId: number) => ({\n  type: TOGGLE_FOLLOWING_PROGRESS,\n  isFetching,\n  userId,\n});\n\nexport const requestUsers = (page: number, pageSize: number) => {\n  return (dispatch: any) => {\n    dispatch(setIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    usersAPI.getUsers(page, pageSize).then((data) => {\n      dispatch(setIsFetching(false));\n      dispatch(setUsers(data.items));\n      dispatch(setTotalUserCount(data.totalCount));\n    });\n  };\n};\n\nconst _followUnfollowFlow = async (\n  dispatch: any,\n  userId: number,\n  apiMethod: (userId: number) => Promise<any>,\n  actionCreator: (userId: number) => any\n) => {\n  dispatch(setFollowingProgress(true, userId));\n  let response = await apiMethod(userId);\n\n  if (response.resultCode == 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(setFollowingProgress(false, userId));\n};\n\nexport const follow = (userId: number): any => {\n  return async (dispatch: any) => {\n    await _followUnfollowFlow(\n      dispatch,\n      userId,\n      usersAPI.followUsers.bind(usersAPI),\n      followSuccess\n    );\n  };\n};\n\nexport const unfollow = (userId: number): any => {\n  return async (dispatch: any) => {\n    await _followUnfollowFlow(\n      dispatch,\n      userId,\n      usersAPI.unfollowUsers.bind(usersAPI),\n      unfollowSuccess\n    );\n  };\n};\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1xc5K\",\"item\":\"Nav_item__2ja6M\",\"active\":\"Nav_active__3iaSo\",\"friendsBlocks\":\"Nav_friendsBlocks__9PSc7\",\"friendsBlock\":\"Nav_friendsBlock__y8_5d\",\"friendsImg\":\"Nav_friendsImg__12obl\"};","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../utils/Validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}: any) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <span>{hasError && error}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const TextArea = (props: any) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props} >\r\n            <textarea {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props} >\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\n\r\nexport const CreateField = (placeholder :string, name: string, validators: any, component: any, restProps = {}, text = \"\") => {\r\n    return <div><Field\r\n        type=\"text\"\r\n        validate={validators}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        component={component}\r\n        {...restProps}\r\n    /> {text}</div>\r\n};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","const initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action: any) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\n\r\ntype MessageType = {\r\n    id: number,\r\n    message: string\r\n}\r\ntype DialogType = {\r\n    id: number,\r\n    name: string\r\n}\r\n\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\n\r\nexport type sideBar = {\r\n    id: number,\r\n    name: string,\r\n    imgUrl: string\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>,\r\n    newPostText: string\r\n}\r\n\r\nexport type DialogPageType = {\r\n    dialogs: Array<DialogType>,\r\n    messages: Array<MessageType>,\r\n    newDialogText: string\r\n};\r\n\r\nexport type sideBarType = {\r\n    friends: Array<sideBar>\r\n};\r\n\r\nexport type RootStateType = {\r\n    usersPage: any;\r\n    profilePage: ProfilePageType\r\n    dialogsPage: DialogPageType\r\n    sideBar: sideBarType,\r\n}\r\n\r\nexport type RootStoreType = {\r\n    _state: RootStateType,\r\n    _callSubscriber: () => void,\r\n    getState: () => typeof store._state,\r\n    subscribe: (observer: any) => void,\r\n    dispatch: (action: any) => void\r\n};\r\n\r\n\r\nlet store: RootStoreType = {\r\n    _state: {\r\n        profilePage: {\r\n            posts: [\r\n                {id: 1, message: \"Hi\", likesCount: 10},\r\n                {id: 2, message: \"How is your day?\", likesCount: 20},\r\n                {id: 3, message: \"Fine, tahnks\", likesCount: 0},\r\n                {id: 4, message: \"Svetlana\", likesCount: 50},\r\n                {id: 5, message: \"Trysa\", likesCount: 100},\r\n                {id: 6, message: \"Fine\", likesCount: 3}\r\n            ],\r\n            newPostText: \"it-kamasutra.com!\"\r\n        },\r\n        dialogsPage: {\r\n            messages: [\r\n                {id: 1, message: \"Hi\"},\r\n                {id: 2, message: \"How is your day?\"},\r\n                {id: 3, message: \"Fine, tahnks\"},\r\n                {id: 4, message: \"Svetlana\"},\r\n                {id: 5, message: \"Trysa\"},\r\n                {id: 6, message: \"Fine\"}\r\n            ],\r\n\r\n            dialogs: [\r\n                {id: 1, name: \"Dimich123\"},\r\n                {id: 2, name: \"Andrew\"},\r\n                {id: 3, name: \"Valera\"},\r\n                {id: 4, name: \"Sveta\"},\r\n                {id: 5, name: \"Polina\"},\r\n                {id: 6, name: \"Sasha\"}\r\n            ],\r\n            newDialogText: \"it-kamasutra.com!\"\r\n        },\r\n        sideBar: {\r\n            friends: [\r\n                {\r\n                    id: 1,\r\n                    name: \"Kiril\",\r\n                    imgUrl: \"https://thatshelf.com/wp-content/uploads/2020/08/ava-jessica-chastain.jpg\"\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: \"Ivan\",\r\n                    imgUrl: \"https://thatshelf.com/wp-content/uploads/2020/08/ava-jessica-chastain.jpg\"\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: \"Petrovich\",\r\n                    imgUrl: \"https://thatshelf.com/wp-content/uploads/2020/08/ava-jessica-chastain.jpg\"\r\n                },\r\n            ],\r\n        },\r\n        usersPage: null\r\n    },\r\n    getState() {\r\n        return this._state;\r\n    },\r\n    _callSubscriber() {\r\n        console.log(\"State changed\");\r\n    },\r\n    subscribe(observer: any) {\r\n\r\n        this._callSubscriber = observer;\r\n    },\r\n    dispatch: function (action: any) {\r\n\r\n        // @ts-ignore\r\n        this._state.profilePage = profileReducer(this._state.profilePage, action);\r\n        // @ts-ignore\r\n        this._state.dialogsPage = dialogsReducer(this._state.dialogsPage, action);\r\n\r\n        // @ts-ignore\r\n        this._state.sideBar = sidebarReducer(this._state.sideBar, action);\r\n\r\n        this._callSubscriber();\r\n    }\r\n}\r\n\r\n\r\nexport default store;\r\n// window.store = store;","import React from \"react\";\r\nimport s from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport store from \"../../redux/store\";\r\n\r\n\r\ntype NavStateType = {\r\n    state: NavPropsType\r\n}\r\n\r\ntype NavPropsType = {\r\n    friends: Array<FriendsType>\r\n}\r\n\r\ntype FriendsType = {\r\n    id: number,\r\n    name: string,\r\n    imgUrl: string\r\n}\r\n\r\n\r\nconst  Nav  = () => {\r\n\r\n    let state = store.getState().sideBar;\r\n\r\n    let friendsMessages = state.friends.map((f: FriendsType) => (\r\n        <div className={s.friendsBlock}>\r\n            <img className={s.friendsImg} src={f.imgUrl} alt=\"friends\"/>\r\n            <NavLink to={\"/profile/\" + f.id}><p>{f.name}</p></NavLink>\r\n        </div>\r\n    ));\r\n\r\n        return (\r\n            <div>\r\n                <nav className={s.nav}>\r\n                    <div className={`${s.item}`}><NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n                    </div>\r\n                    <div className={s.item}><NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink></div>\r\n                    <div className={s.item}><NavLink to=\"/news\" activeClassName={s.active}>News</NavLink></div>\r\n                    <div className={s.item}><NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink></div>\r\n                    <div className={s.item}><NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink></div>\r\n                    <div className={s.item}><NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink></div>\r\n                    <div className={s.friendsBlocks}>\r\n                        {friendsMessages}\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\nexport default Nav;","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import React from \"react\";\n\nconst Settings = () => {\n  return <div>Settings</div>;\n};\n\nexport default Settings;\n","import React from \"react\";\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props: any) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src=\"data:image/png;base64,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\"\r\n                alt=\"\"/>\r\n\r\n            <div className={s.loginBlock}>\r\n                <div>\r\n                    {props.userId}\r\n                </div>\r\n                {props.isAuth\r\n                    ? <div>{props.login} = <button onClick={props.logout}>Logout</button></div>\r\n                    :<div><NavLink to={\"/login\"}>Login</NavLink></div>\r\n                }\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\nconst GET_CAPTCHA_URL_SUCCESS = \"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null,\n};\n\nconst authReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n    case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      };\n  }\n  return state;\n};\n\nexport const setAuthUserDataSuccess = (\n  userId: any,\n  email: any,\n  login: any,\n  isAuth: boolean\n) => ({\n  type: SET_USER_DATA,\n  payload: { userId, email, login, isAuth },\n});\n\nexport const setAuthUserData = () => async (dispatch: any) => {\n  let data = await authAPI.me();\n  if (data.resultCode === 0) {\n    let { email, id, login } = data.data;\n    dispatch(setAuthUserDataSuccess(id, email, login, true));\n  }\n};\n\nexport const getCaptchaURLSuccess = (captchaUrl: string) => ({\n  type: GET_CAPTCHA_URL_SUCCESS,\n  payload: { captchaUrl },\n});\n\nexport const login = (\n  email: string,\n  password: string,\n  rememberMe: boolean,\n  captcha: any\n) => async (dispatch: any) => {\n  let response = await authAPI.login(email, password, rememberMe, captcha);\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserDataSuccess(email, password, rememberMe, true));\n  } else {\n    if (response.data.resultCode === 10) {\n      dispatch(getCaptchaURL());\n    }\n    let message =\n      response.data.messages.length > 0\n        ? response.data.messages[0]\n        : \"Some Error\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const getCaptchaURL = () => async (dispatch: any) => {\n  let response = await securityAPI.getCaptcha();\n  const captchaUrl = response.url;\n  dispatch(getCaptchaURLSuccess(captchaUrl));\n};\n\nexport const logout = () => async (dispatch: any) => {\n  let response = await authAPI.logout();\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserDataSuccess(null, null, null, false));\n  }\n};\n//\n// export const setIsFetching = (isFetching: boolean) => (\n//     {type: TOGGLE_IS_FETCHING, isFetching}\n// )\n\nexport default authReducer;\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component<any, any> {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    userId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {CreateField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/Validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport s from \"../Common/FormsControls/FormsControls.module.css\"\r\n\r\n\r\nconst LoginForm = ({handleSubmit,error,captchaUrl,...restProps}: any) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {CreateField(\"email\", \"email\",[required],Input,{type: \"text\"} )}\r\n                {CreateField(\"password\", \"password\",[required],Input,{type: \"password\"} ) }\r\n                {CreateField(\"\", \"rememberMe\",[],Input, {type: \"checkbox\"}, \"remember Me\" )}\r\n\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n            {captchaUrl && CreateField(\"Symbols from image\", \"captcha\", [required],Input, {} )}\r\n\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<any,any>(\r\n    {form: 'login'}\r\n)(LoginForm)\r\n\r\nconst Login = (props:any) => {\r\n    const onSubmit = (formData: any) => {\r\n        console.log(formData)\r\n\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login}) (Login)","import { setAuthUserData } from \"./auth-reducer\";\n\nconst SET_INITIALIZED_SUCCESS = \"SET_INITIALIZED_SUCCESS\";\n\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case SET_INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n  }\n  return state;\n};\n\nexport const initializedSuccess = () => ({\n  type: SET_INITIALIZED_SUCCESS,\n});\n\nexport const initializeApp = () => {\n  return (dispatch: any) => {\n    let promise = dispatch(setAuthUserData());\n    Promise.all([promise]).then(() => {\n      dispatch(initializedSuccess());\n    });\n  };\n};\n\nexport default appReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profileReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./app-reducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  sideBar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(\n    applyMiddleware(thunkMiddleware)\n    // other store enhancers if any\n  )\n);\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\n// @ts-ignore\nwindow.store = store;\n\nexport default store;\n","import React, { Suspense } from \"react\";\n\nexport const withSuspense = (Component: any): any => {\n  return (props: any) => {\n    return (\n      <Suspense fallback={<div>Loading.....99%</div>}>\n        <Component {...props} />\n      </Suspense>\n    );\n  };\n};\n","import React, { Suspense } from \"react\";\n\nimport \"./App.css\";\n\nimport Nav from \"./components/Navbar/Nav\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport { HashRouter, Route, withRouter } from \"react-router-dom\";\nimport { RootStoreType } from \"./redux/store\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport { connect, Provider } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport PreLoader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(\n  () => import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(\n  () => import(\"./components/Profile/ProfileContainer\")\n);\nconst UsersContainer = React.lazy(\n  () => import(\"./components/Users/UsersContainer\")\n);\n\ntype AppPropsType = {\n  store: RootStoreType;\n};\n\nclass App extends React.Component<any, any> {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <PreLoader />;\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"app-wrapper-content\">\n          <Route\n            exact\n            render={withSuspense(DialogsContainer)}\n            path=\"/dialogs\"\n          />\n          <Route\n            exact\n            render={withSuspense(ProfileContainer)}\n            path=\"/profile/:userId?\"\n          />\n          <Route exact component={News} path=\"/news\" />\n          <Route exact component={Music} path=\"/music\" />\n          <Route exact component={Settings} path=\"/settings\" />\n          <Route exact render={withSuspense(UsersContainer)} path=\"/users\" />\n          <Route exact render={withSuspense(LoginPage)} path=\"/login\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose<any>(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nexport const SamuraiJSApp = () => {\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default SamuraiJSApp;\n","import React from \"react\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__10MQG\",\"error\":\"FormsControls_error__3PcbX\",\"formSummaryError\":\"FormsControls_formSummaryError__1-tsB\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Simulate} from \"react-dom/test-utils\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\n\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\"\r\n\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi\", likesCount: 10},\r\n        {id: 2, message: \"How is your day?\", likesCount: 20},\r\n        {id: 3, message: \"Fine, tahnks\", likesCount: 0},\r\n        {id: 4, message: \"Svetlana\", likesCount: 50},\r\n        {id: 5, message: \"Trysa\", likesCount: 100},\r\n        {id: 6, message: \"Fine\", likesCount: 3}\r\n    ],\r\n    newPostText: \"it-kamasutra.com!\",\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\ntype PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\n\r\ninterface ActionA {\r\n    type: 'ADD-POST';\r\n    newText: string\r\n}\r\n\r\ninterface ActionB {\r\n    type: 'UPDATE-NEW-POST-TEXT';\r\n    newText: string\r\n}\r\n\r\ninterface ActionC {\r\n    type: 'SET_USER_PROFILE';\r\n    profile: any\r\n}\r\n\r\nexport type Action = ActionA | ActionB | ActionC;\r\n\r\n\r\nconst profileReducer = (state = initialState, action: any) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            debugger\r\n            //@ts-ignore\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\n\r\nexport const setUserProfileSuccess = (profile: any) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile,\r\n});\r\n\r\nexport const deletePost = (postId: number) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n});\r\n\r\nexport const setStatus = (status: any) => ({\r\n    type: SET_STATUS,\r\n    status,\r\n});\r\n\r\nexport const savePhotoSuccess = (photos: any) => ({\r\n    type: SAVE_PHOTO_SUCCESS,\r\n    photos\r\n});\r\n\r\n// -----------\r\n// Redux-Thunk for async query\r\n// -----------\r\n\r\nexport const setUserProfile = (userId: number) => async (dispatch: any) => {\r\n    const response = await usersAPI.getUsersProfile(userId)\r\n    dispatch(setUserProfileSuccess(response.data));\r\n};\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: any) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status: number) => async (dispatch: any) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\n\r\nexport const saveProfile = (profile: any) => async (dispatch: any, getState:any) => {\r\n\r\n    const userId =  getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserProfile(userId));\r\n    }else{\r\n        debugger\r\n        // dispatch(stopSubmit(\"edit-profile\", {\"contacts\" : {\"facebook\": response.messages[0]}}))\r\n        dispatch(stopSubmit(\"edit-profile\",{_error : response.messages[0]}))\r\n        return Promise.reject(response.messages[0])\r\n    }\r\n};\r\n\r\nexport default profileReducer;","const ADD_DIALOG = \"ADD-DIALOG\";\nconst DELETE_DIALOG = \"DELETE_DIALOG\";\n\nconst initialState = {\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"How is your day?\" },\n    { id: 3, message: \"Fine, tahnks\" },\n    { id: 4, message: \"Svetlana\" },\n    { id: 5, message: \"Trysa\" },\n    { id: 6, message: \"Fine\" },\n  ],\n\n  dialogs: [\n    { id: 1, name: \"Dimich123\" },\n    { id: 2, name: \"Andrew\" },\n    { id: 3, name: \"Valera\" },\n    { id: 4, name: \"Sveta\" },\n    { id: 5, name: \"Polina\" },\n    { id: 6, name: \"Sasha\" },\n  ],\n};\n\ninterface ActionA {\n  type: \"ADD-DIALOG\";\n  newMessageBody: string;\n}\n\ninterface ActionB {\n  type: \"UPDATE-NEW-DIALOG-TEXT\";\n  newDialogText: string;\n}\ntype ActionC = {\n  type: \"DELETE_DIALOG\";\n  dialogId: number;\n};\ntype dialogsReducerType = {\n  dialogs: Array<DialogType>;\n  messages: Array<MessageType>;\n  newDialogText: string;\n};\n\ntype MessageType = {\n  id: number;\n  message: string;\n};\ntype DialogType = {\n  id: number;\n  name: string;\n};\n\nexport type ActionType = ActionA | ActionB | ActionC;\n\nconst dialogsReducer = (state = initialState, action: any) => {\n  switch (action.type) {\n    case ADD_DIALOG: {\n      let newDialogText = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, { id: 6, message: newDialogText }],\n      };\n    }\n    case DELETE_DIALOG: {\n      return {\n        ...state,\n        dialogs: state.dialogs.filter((p) => p.id !== action.dialogId),\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addDialogActionCreator = (newMessageBody: string) => ({\n  type: ADD_DIALOG,\n  newMessageBody,\n});\n\nexport const deleteDialog = (dialogId: number) => ({\n  type: DELETE_DIALOG,\n  dialogId,\n});\n\nexport default dialogsReducer;\n","\r\nexport const required = (value: any) => {\r\n    if(value) return undefined\r\n    return \"field is required\"\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: any) => (value: any) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3EctI\",\"loginBlock\":\"Header_loginBlock__vISE1\"};","export default __webpack_public_path__ + \"static/media/Interwind-1s-200px.893cc692.svg\";","import React from \"react\";\r\nimport preLoader from \"../../../assets/img/Interwind-1s-200px.svg\"\r\n\r\n\r\nlet PreLoader = () => {\r\n  return  <div>\r\n        <img style={{background:\"white\"}} src={preLoader} alt=\"PreLoader\"/>\r\n    </div>\r\n}\r\n\r\nexport default PreLoader"],"sourceRoot":""}